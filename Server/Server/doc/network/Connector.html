<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Tue Jun 19 22:06:18 CEST 2018 -->
<title>Connector</title>
<meta name="date" content="2018-06-19">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Connector";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../network/ConnectionCodes.html" title="class in network"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../network/Cryptography.html" title="class in network"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?network/Connector.html" target="_top">Frames</a></li>
<li><a href="Connector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">network</div>
<h2 title="Class Connector" class="title">Class Connector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>network.Connector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Connector</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#calculation_delay">calculation_delay</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.net.Socket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#client">client</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#client_uid">client_uid</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../network/Cryptography.html" title="class in network">Cryptography</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#crypt">crypt</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.ObjectInputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#in_data">in_data</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#MAX_TIMEOUT">MAX_TIMEOUT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.ObjectOutputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#out_data">out_data</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#package_delay">package_delay</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#ref">ref</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../network/Connector.html#Connector-java.net.Socket-int-">Connector</a></span>(java.net.Socket&nbsp;_client,
         int&nbsp;_ref)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#calcAvgDelay--">calcAvgDelay</a></span>()</code>
<div class="block">Calculates the average delay in milliseconds a package needs to travel from
 server to client and opposite.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Closes the socket that is bound to the current connection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#getCode--">getCode</a></span>()</code>
<div class="block">Waits a MAX_TIMEOUT amount of time for a response from the 
 connected client.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#getCode-int-">getCode</a></span>(int&nbsp;timeout_ms)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#getLineNumber--">getLineNumber</a></span>()</code>
<div class="block">Get the current line number.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#getTextResponse--">getTextResponse</a></span>()</code>
<div class="block">Reads in all characters from the current stream until the 
 new line character appears.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#keyExchange--">keyExchange</a></span>()</code>
<div class="block">Performs the key exchange of the RSA public keys and the AES key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#readLong--">readLong</a></span>()</code>
<div class="block">Reads a 8-byte sized long from the input stream.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#readObject--">readObject</a></span>()</code>
<div class="block">Reads an object from the input stream.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#readSector--">readSector</a></span>()</code>
<div class="block">Reads four 4-byte sized doubles from the input stream.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#retry--">retry</a></span>()</code>
<div class="block">Receiving a long value.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#sendCustomPackage-byte:A-int-int-int-">sendCustomPackage</a></span>(byte[]&nbsp;bytePackage,
                 int&nbsp;offset,
                 int&nbsp;packageSize,
                 int&nbsp;delay)</code>
<div class="block">Writes bytes from 'bytePackage' with the specified 'offset' and 'packageSize'</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#sendFile-java.lang.String-long-">sendFile</a></span>(java.lang.String&nbsp;filepath,
        long&nbsp;remainingBytes)</code>
<div class="block">Sends out the file size as type long.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#shortenKey-java.lang.String-">shortenKey</a></span>(java.lang.String&nbsp;key)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#sleep-int-">sleep</a></span>(int&nbsp;ms)</code>
<div class="block">Puts the thread to sleep for a certain amount of time.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#tick-int-">tick</a></span>(int&nbsp;mics)</code>
<div class="block">DEPRECATED
 Puts the thread to sleep for a certain amount of time.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#writeCode-int-">writeCode</a></span>(int&nbsp;code)</code>
<div class="block">Writes a single byte to the output stream and flushes.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#writeLong-long-">writeLong</a></span>(long&nbsp;l)</code>
<div class="block">Writes a 8-byte sized long to the output stream and flushes.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#writeObject-java.lang.Object-">writeObject</a></span>(java.lang.Object&nbsp;obj)</code>
<div class="block">Writes a serializable object to the output stream and flushes.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../network/Connector.html#writeText-java.lang.String-">writeText</a></span>(java.lang.String&nbsp;str)</code>
<div class="block">Writes a string to the output stream and flushes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="client">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>client</h4>
<pre>private&nbsp;java.net.Socket client</pre>
</li>
</ul>
<a name="out_data">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>out_data</h4>
<pre>private&nbsp;java.io.ObjectOutputStream out_data</pre>
</li>
</ul>
<a name="in_data">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>in_data</h4>
<pre>private&nbsp;java.io.ObjectInputStream in_data</pre>
</li>
</ul>
<a name="calculation_delay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculation_delay</h4>
<pre>private&nbsp;int calculation_delay</pre>
</li>
</ul>
<a name="package_delay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>package_delay</h4>
<pre>public&nbsp;int package_delay</pre>
</li>
</ul>
<a name="ref">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ref</h4>
<pre>private&nbsp;int ref</pre>
</li>
</ul>
<a name="client_uid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>client_uid</h4>
<pre>private&nbsp;java.lang.String client_uid</pre>
</li>
</ul>
<a name="crypt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>crypt</h4>
<pre>private&nbsp;<a href="../network/Cryptography.html" title="class in network">Cryptography</a> crypt</pre>
</li>
</ul>
<a name="MAX_TIMEOUT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_TIMEOUT</h4>
<pre>private static&nbsp;int MAX_TIMEOUT</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Connector-java.net.Socket-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Connector</h4>
<pre>public&nbsp;Connector(java.net.Socket&nbsp;_client,
                 int&nbsp;_ref)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="keyExchange--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyExchange</h4>
<pre>public&nbsp;java.lang.String&nbsp;keyExchange()
                             throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                                    <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                                    java.lang.InterruptedException</pre>
<div class="block">Performs the key exchange of the RSA public keys and the AES key.
 Current sequence of events:
 1. Client sends his public key base64 encoded.
 2. Server sends his public key base64 encoded.
 3. Client sends the RSA encrypted and base64 encoded AES key (session key).
 4. Client sends the AES encrypted and base64 encoded UID.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>UID as string on success, null in case of a register request</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="shortenKey-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shortenKey</h4>
<pre>private&nbsp;java.lang.String&nbsp;shortenKey(java.lang.String&nbsp;key)</pre>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;int&nbsp;disconnect()</pre>
<div class="block">Closes the socket that is bound to the current connection.
 If the operation fails we assume that the connection has
 already been closed by the client.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 for success or -1 if the client is already disconnected</dd>
</dl>
</li>
</ul>
<a name="sleep-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sleep</h4>
<pre>private&nbsp;void&nbsp;sleep(int&nbsp;ms)
            throws java.lang.InterruptedException</pre>
<div class="block">Puts the thread to sleep for a certain amount of time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ms</code> - time in milliseconds</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="tick-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tick</h4>
<pre>private&nbsp;void&nbsp;tick(int&nbsp;mics)</pre>
<div class="block">DEPRECATED
 Puts the thread to sleep for a certain amount of time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mics</code> - time in microseconds</dd>
</dl>
</li>
</ul>
<a name="getLineNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLineNumber</h4>
<pre>public static&nbsp;int&nbsp;getLineNumber()</pre>
<div class="block">Get the current line number.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current line number.</dd>
</dl>
</li>
</ul>
<a name="getCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCode</h4>
<pre>public&nbsp;int&nbsp;getCode()
            throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                   <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                   java.lang.InterruptedException</pre>
<div class="block">Waits a MAX_TIMEOUT amount of time for a response from the 
 connected client. The response should be in form of a code
 as seen in class 'ConnectionCodes'. Transmissions are always 
 terminated by the END-sequence.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the received code</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
</dl>
</li>
</ul>
<a name="getCode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCode</h4>
<pre>public&nbsp;int&nbsp;getCode(int&nbsp;timeout_ms)
            throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                   <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                   java.lang.InterruptedException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="getTextResponse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTextResponse</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTextResponse()
                                 throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                                        <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                                        java.lang.InterruptedException</pre>
<div class="block">Reads in all characters from the current stream until the 
 new line character appears. Times out after MAX_TIMEOUT seconds.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Text response as string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="writeCode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCode</h4>
<pre>private&nbsp;void&nbsp;writeCode(int&nbsp;code)</pre>
<div class="block">Writes a single byte to the output stream and flushes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>code</code> - the byte written</dd>
</dl>
</li>
</ul>
<a name="writeText-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeText</h4>
<pre>public&nbsp;void&nbsp;writeText(java.lang.String&nbsp;str)</pre>
<div class="block">Writes a string to the output stream and flushes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>str</code> - the string written</dd>
</dl>
</li>
</ul>
<a name="writeObject-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeObject</h4>
<pre>public&nbsp;void&nbsp;writeObject(java.lang.Object&nbsp;obj)</pre>
<div class="block">Writes a serializable object to the output stream and flushes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>obj</code> - the object</dd>
</dl>
</li>
</ul>
<a name="writeLong-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLong</h4>
<pre>private&nbsp;void&nbsp;writeLong(long&nbsp;l)</pre>
<div class="block">Writes a 8-byte sized long to the output stream and flushes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>l</code> - the long</dd>
</dl>
</li>
</ul>
<a name="readLong--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLong</h4>
<pre>public&nbsp;long&nbsp;readLong()
              throws <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                     <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></pre>
<div class="block">Reads a 8-byte sized long from the input stream.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the read long</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
</dl>
</li>
</ul>
<a name="readObject--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObject</h4>
<pre>public&nbsp;java.lang.Object&nbsp;readObject()</pre>
<div class="block">Reads an object from the input stream.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the read object</dd>
</dl>
</li>
</ul>
<a name="readSector--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readSector</h4>
<pre>public&nbsp;double[]&nbsp;readSector()
                    throws <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                           <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></pre>
<div class="block">Reads four 4-byte sized doubles from the input stream.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the received map sector</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
</dl>
</li>
</ul>
<a name="retry--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retry</h4>
<pre>public&nbsp;void&nbsp;retry()
           throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                  <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                  <a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a>,
                  java.lang.InterruptedException</pre>
<div class="block">Receiving a long value. The long value represents the remaining
 bytes needed by the client for the requested file/map. The function
 then waits to receive the map code. It then starts
 the upload of the requested map by calling 'sendFile'.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="sendFile-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendFile</h4>
<pre>public&nbsp;void&nbsp;sendFile(java.lang.String&nbsp;filepath,
                     long&nbsp;remainingBytes)
              throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                     <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                     <a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a>,
                     java.lang.InterruptedException</pre>
<div class="block">Sends out the file size as type long. The function then proceeds
 to write 2 MB of data to the stream and wait for an 'ACK' from the
 client. The whole file is transferred as packages of 2 MB size.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filepath</code> - path to the file that should be sent</dd>
<dd><code>remainingBytes</code> - bytes remaining for the client (for retries)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="sendCustomPackage-byte:A-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCustomPackage</h4>
<pre>private&nbsp;long&nbsp;sendCustomPackage(byte[]&nbsp;bytePackage,
                               int&nbsp;offset,
                               int&nbsp;packageSize,
                               int&nbsp;delay)
                        throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                               <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                               <a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a>,
                               java.lang.InterruptedException</pre>
<div class="block">Writes bytes from 'bytePackage' with the specified 'offset' and 'packageSize'</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytePackage</code> - byte-array containing the data</dd>
<dd><code>offset</code> - where to start in the byte-array</dd>
<dd><code>packageSize</code> - amount of bytes the function should write</dd>
<dd><code>delay</code> - DEPRECATED</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>time needed by the client to receive the file in milliseconds, -1 on error</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code><a href="../exceptions/ProtocolErrorException.html" title="class in exceptions">ProtocolErrorException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="calcAvgDelay--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>calcAvgDelay</h4>
<pre>public&nbsp;int&nbsp;calcAvgDelay()
                 throws <a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a>,
                        <a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a>,
                        java.lang.InterruptedException</pre>
<div class="block">Calculates the average delay in milliseconds a package needs to travel from
 server to client and opposite. Five 'pings' are being sent to the client.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the average delay in milliseconds</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../exceptions/ConnectionUnexpectedlyClosedException.html" title="class in exceptions">ConnectionUnexpectedlyClosedException</a></code></dd>
<dd><code><a href="../exceptions/ConnectionTimeoutException.html" title="class in exceptions">ConnectionTimeoutException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Connector.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../network/ConnectionCodes.html" title="class in network"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../network/Cryptography.html" title="class in network"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?network/Connector.html" target="_top">Frames</a></li>
<li><a href="Connector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
